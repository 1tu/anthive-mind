!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=73)}([function(t,e,n){var r=n(6)(Object,"create");t.exports=r},function(t,e,n){var r=n(41);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(47);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(4).Symbol;t.exports=r},function(t,e,n){var r=n(17),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(29),i=n(33);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(15),i=n(16);t.exports=function t(e,n,o,a,s){var u=-1,c=e.length;for(o||(o=i),s||(s=[]);++u<c;){var l=e[u];n>0&&o(l)?n>1?t(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(3),i=n(20),o=n(21),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(8),i=n(10);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=require("http")},function(t,e,n){var r=n(7);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(23),i=n(7),o=n(62),a=n(70),s=o((function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]}));t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(3),i=n(18),o=n(22),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global;t.exports=n},function(t,e,n){var r=n(19),i=n(5),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(8),i=n(5);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(3),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(24),i=n(53),o=n(58),a=n(59),s=n(60),u=n(61);t.exports=function(t,e,n,c){var l=-1,f=i,p=!0,h=t.length,v=[],d=e.length;if(!h)return v;n&&(e=a(e,s(n))),c?(f=o,p=!1):e.length>=200&&(f=u,p=!1,e=new r(e));t:for(;++l<h;){var y=t[l],b=null==n?y:n(y);if(y=c||0!==y?y:0,p&&b==b){for(var g=d;g--;)if(e[g]===b)continue t;v.push(y)}else f(e,b,c)||v.push(y)}return v}},function(t,e,n){var r=n(25),i=n(51),o=n(52);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e,n){var r=n(26),i=n(46),o=n(48),a=n(49),s=n(50);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(27),i=n(38),o=n(45);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(28),i=n(34),o=n(35),a=n(36),s=n(37);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(0);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(9),i=n(30),o=n(10),a=n(32),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:s).test(a(t))}},function(t,e,n){var r,i=n(31),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(4)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(0),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(0),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(39),i=n(40),o=n(42),a=n(43),s=n(44);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(1),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(1);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(1);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(6)(n(4),"Map");t.exports=r},function(t,e,n){var r=n(2);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(2);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(2);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(54);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(55),i=n(56),o=n(57);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(11),i=n(63),o=n(65);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(64),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(66),i=n(69)(r);t.exports=i},function(t,e,n){var r=n(67),i=n(68),o=n(11),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(6),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(71),i=n(5);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(9),i=n(72);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){"use strict";n.r(e);var r=n(12);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"toJSON",value:function(){return{act:this.type,dir:this.direction}}},{key:"direction",get:function(){if(this.move)return 0!==this.move.x?this.move.x>0?MAction.EDirection.RIGHT:MAction.EDirection.LEFT:this.move.y>0?MAction.EDirection.DOWN:MAction.EDirection.UP}}])&&i(e.prototype,n),r&&i(e,r),t}(),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var f=[];Object.freeze(f);var p={};function h(){return++Dt.mobxGuid}function v(t){throw d(!1,t),"X"}function d(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(p);function y(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var b=function(){};function g(t){return null!==t&&"object"==typeof t}function m(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function O(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return g(t)&&!0===t[n]}}function w(t){return t instanceof Map}function x(t){return t instanceof Set}function A(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function S(t){return t&&t.toString?t.toString():new String(t).toString()}function j(t){return null===t?null:"object"==typeof t?""+t:t}var E=Symbol("mobx administration"),P=function(){function t(t){void 0===t&&(t="Atom@"+h()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Z.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Lt(this)},t.prototype.reportChanged=function(){Vt(),function(t){if(t.lowestObserverState===Z.STALE)return;t.lowestObserverState=Z.STALE,t.observers.forEach((function(e){e.dependenciesState===Z.UP_TO_DATE&&(e.isTracing!==tt.NONE&&Rt(e,t),e.onBecomeStale()),e.dependenciesState=Z.STALE}))}(this),Nt()},t.prototype.toString=function(){return this.name},t}(),k=_("Atom",P);function T(t,e,n){void 0===e&&(e=b),void 0===n&&(n=b);var r,i=new P(t);return e!==b&&Zt("onBecomeObserved",i,e,r),n!==b&&Qt(i,n),i}var D={identity:function(t,e){return t===e},structural:function(t,e){return $e(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return $e(t,e,1)}},M=Symbol("mobx did run lazy initializers"),C=Symbol("mobx pending decorators"),z={},V={};function N(t,e){var n=e?z:V;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return L(this),this[t]},set:function(e){L(this),this[t]=e}})}function L(t){var e,n;if(!0!==t[M]){var r=t[C];if(r){O(t,M,!0);var i=l(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=u(i),a=o.next();!a.done;a=o.next()){var s=r[a.value];s.propertyCreator(t,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}function R(t,e){return function(){var n,r=function(r,i,o,a){if(!0===a)return e(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,C)){var u=r[C];O(r,C,s({},u))}return r[C][i]={prop:i,propertyCreator:e,descriptor:o,decoratorTarget:r,decoratorArguments:n},N(i,t)};return B(arguments)?(n=f,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function B(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function I(t,e,n){return ae(t)?t:Array.isArray(t)?Y.array(t,{name:n}):m(t)?Y.object(t,void 0,{name:n}):w(t)?Y.map(t,{name:n}):x(t)?Y.set(t,{name:n}):t}function G(t){return t}function U(t){d(t);var e=R(!0,(function(e,n,r,i,o){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;ze(e).addObservableProp(n,a,t)})),n=("undefined"!=typeof process&&process.env,e);return n.enhancer=t,n}var F={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(t){return null==t?F:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(F);var K=U(I),q=U((function(t,e,n){return null==t||Be(t)||Se(t)||ke(t)||Me(t)?t:Array.isArray(t)?Y.array(t,{name:n,deep:!1}):m(t)?Y.object(t,void 0,{name:n,deep:!1}):w(t)?Y.map(t,{name:n,deep:!1}):x(t)?Y.set(t,{name:n,deep:!1}):v(!1)})),J=U(G),W=U((function(t,e,n){return $e(t,e)?e:t}));function X(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?G:I}var $={box:function(t,e){arguments.length>2&&Q("box");var n=H(e);return new xt(t,X(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Q("array");var n=H(e);return Oe(t,X(n),n.name)},map:function(t,e){arguments.length>2&&Q("map");var n=H(e);return new Pe(t,X(n),n.name)},set:function(t,e){arguments.length>2&&Q("set");var n=H(e);return new De(t,X(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&Q("object");var r=H(n);if(!1===r.proxy)return te({},t,e,r);var i=ee(r),o=te({},void 0,void 0,r),a=pe(o);return ne(a,t,e,i),a},ref:J,shallow:q,deep:K,struct:W},Y=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return K.apply(null,arguments);if(ae(t))return t;var r=m(t)?Y.object(t,e,n):Array.isArray(t)?Y.array(t,e):w(t)?Y.map(t,e):x(t)?Y.set(t,e):t;if(r!==t)return r;v(!1)};function Q(t){v("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys($).forEach((function(t){return Y[t]=$[t]}));var Z,tt,et=R(!1,(function(t,e,n,r,i){var o=n.get,a=n.set,u=i[0]||{};ze(t).addComputedProp(t,e,s({get:o,set:a,context:t},u))})),nt=et({equals:D.structural}),rt=function(t,e,n){if("string"==typeof e)return et.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return et.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new At(r)};rt.struct=nt,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Z||(Z={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(tt||(tt={}));var it=function(t){this.cause=t};function ot(t){return t instanceof it}function at(t){switch(t.dependenciesState){case Z.UP_TO_DATE:return!1;case Z.NOT_TRACKING:case Z.STALE:return!0;case Z.POSSIBLY_STALE:for(var e=ht(!0),n=ft(),r=t.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(St(a)){if(Dt.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return pt(n),vt(e),!0}if(t.dependenciesState===Z.STALE)return pt(n),vt(e),!0}}return dt(t),pt(n),vt(e),!1}}function st(t){var e=t.observers.size>0;Dt.computationDepth>0&&e&&v(!1),Dt.allowStateChanges||!e&&"strict"!==Dt.enforceActions||v(!1)}function ut(t,e,n){var r=ht(!0);dt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Dt.runId;var i,o=Dt.trackingDerivation;if(Dt.trackingDerivation=t,!0===Dt.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(t){i=new it(t)}return Dt.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Z.UP_TO_DATE,i=0,o=t.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,t.newObserving=null,o=e.length;for(;o--;){0===(s=e[o]).diffValue&&Ct(s,t),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,Mt(s,t))}r!==Z.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),vt(r),i}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ct(e[n],t);t.dependenciesState=Z.NOT_TRACKING}function lt(t){var e=ft();try{return t()}finally{pt(e)}}function ft(){var t=Dt.trackingDerivation;return Dt.trackingDerivation=null,t}function pt(t){Dt.trackingDerivation=t}function ht(t){var e=Dt.allowStateReads;return Dt.allowStateReads=t,e}function vt(t){Dt.allowStateReads=t}function dt(t){if(t.dependenciesState!==Z.UP_TO_DATE){t.dependenciesState=Z.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Z.UP_TO_DATE}}var yt=0,bt=1,gt=Object.getOwnPropertyDescriptor((function(){}),"name");gt&&gt.configurable;function mt(t,e,n){var r=function(){return Ot(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function Ot(t,e,n,r){var i=function(t,e,n){var r=0;var i=ft();Vt();var o=_t(!0),a=ht(!0),s={prevDerivation:i,prevAllowStateChanges:o,prevAllowStateReads:a,notifySpy:!1,startTime:r,actionId:bt++,parentActionId:yt};return yt=s.actionId,s}();try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{!function(t){yt!==t.actionId&&v("invalid action stack. did you forget to finish an action?");yt=t.parentActionId,void 0!==t.error&&(Dt.suppressReactionErrors=!0);wt(t.prevAllowStateChanges),vt(t.prevAllowStateReads),Nt(),pt(t.prevDerivation),t.notifySpy&&!1;Dt.suppressReactionErrors=!1}(i)}}function _t(t){var e=Dt.allowStateChanges;return Dt.allowStateChanges=t,e}function wt(t){Dt.allowStateChanges=t}var xt=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+h()),void 0===i&&(i=!0),void 0===o&&(o=D.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),a}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==Dt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(st(this),he(this)){var e=de(this,{object:this,type:"update",newValue:t});if(!e)return Dt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Dt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),ye(this)&&ge(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return ve(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),be(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return j(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(P),At=(_("ObservableValue",xt),function(){function t(t){this.dependenciesState=Z.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Z.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+h(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=tt.NONE,d(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+h(),t.set&&(this.setter=mt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?D.structural:D.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==Z.UP_TO_DATE)return;t.lowestObserverState=Z.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Z.UP_TO_DATE&&(e.dependenciesState=Z.POSSIBLY_STALE,e.isTracing!==tt.NONE&&Rt(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&v("Cycle detected in computation "+this.name+": "+this.derivation),0!==Dt.inBatch||0!==this.observers.size||this.keepAlive?(Lt(this),at(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===Z.STALE)return;t.lowestObserverState=Z.STALE,t.observers.forEach((function(e){e.dependenciesState===Z.POSSIBLY_STALE?e.dependenciesState=Z.STALE:e.dependenciesState===Z.UP_TO_DATE&&(t.lowestObserverState=Z.UP_TO_DATE)}))}(this)):at(this)&&(this.warnAboutUntrackedRead(),Vt(),this.value=this.computeValue(!1),Nt());var t=this.value;if(ot(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ot(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){d(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else d(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Z.NOT_TRACKING,n=this.computeValue(!0),r=e||ot(t)||ot(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Dt.computationDepth++,t)e=ut(this,this.derivation,this.scope);else if(!0===Dt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new it(t)}return Dt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return Xt((function(){var o=n.get();if(!r||e){var a=ft();t({type:"update",object:n,newValue:o,oldValue:i}),pt(a)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return j(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}()),St=_("ComputedValue",At),jt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Et={};function Pt(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Et}var kt=!0,Tt=!1,Dt=function(){var t=Pt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(kt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new jt).version&&(kt=!1),kt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new jt):(setTimeout((function(){Tt||v("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new jt)}();function Mt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ct(t,e){t.observers.delete(e),0===t.observers.size&&zt(t)}function zt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Dt.pendingUnobservations.push(t))}function Vt(){Dt.inBatch++}function Nt(){if(0==--Dt.inBatch){Gt();for(var t=Dt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof At&&n.suspend())}Dt.pendingUnobservations=[]}}function Lt(t){var e=Dt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Dt.inBatch>0&&zt(t),!1)}function Rt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===tt.BREAK){var n=[];!function t(e,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)}))}((r=t,re(Ie(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof At?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var Bt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+h()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Z.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+h(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=tt.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Dt.pendingReactions.push(this),Gt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Vt(),this._isScheduled=!1,at(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Nt()}},t.prototype.track=function(t){if(!this.isDisposed){Vt();0,this._isRunning=!0;var e=ut(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),ot(e)&&this.reportExceptionInDerivation(e.cause),Nt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Dt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Dt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),Dt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vt(),ct(this),Nt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[E]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=se(t);if(!r)return v(!1);r.isTracing===tt.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?tt.BREAK:tt.LOG}(this,t)},t}();var It=function(t){return t()};function Gt(){Dt.inBatch>0||Dt.isRunningReactions||It(Ut)}function Ut(){Dt.isRunningReactions=!0;for(var t=Dt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Dt.isRunningReactions=!1}var Ft=_("Reaction",Bt);function Ht(){v(!1)}function Kt(t){return function(e,n,r){if(r){if(r.value)return{value:mt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return mt(t,i.call(this))}}}return qt(t).apply(this,arguments)}}function qt(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){O(this,n,Jt(t,e))}})}}var Jt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?mt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?mt(t,e):1===arguments.length&&"string"==typeof t?Kt(t):!0!==r?Kt(e).apply(null,arguments):void O(t,e,mt(t.name||e,n.value,this))};function Wt(t,e,n){O(t,e,mt(e,n.bind(t)))}function Xt(t,e){void 0===e&&(e=p);var n,r=e&&e.name||t.name||"Autorun@"+h();if(!e.scheduler&&!e.delay)n=new Bt(r,(function(){this.track(a)}),e.onError,e.requiresObservable);else{var i=Yt(e),o=!1;n=new Bt(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(a)})))}),e.onError,e.requiresObservable)}function a(){t(n)}return n.schedule(),n.getDisposer()}Jt.bound=function(t,e,n,r){return!0===r?(Wt(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Wt(this,e,n.value||n.initializer.call(this)),this[e]},set:Ht}:{enumerable:!1,configurable:!0,set:function(t){Wt(this,e,t)},get:function(){}}};var $t=function(t){return t()};function Yt(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:$t}function Qt(t,e,n){return Zt("onBecomeUnobserved",t,e,n)}function Zt(t,e,n,r){var i="function"==typeof r?Ie(e,n):Ie(e),o="function"==typeof r?r:n,a=t+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[t]?v(!1):function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}function te(t,e,n,r){var i=ee(r=H(r));return L(t),ze(t,r.name,i.enhancer),e&&ne(t,e,n,i),t}function ee(t){return t.defaultDecorator||(!1===t.deep?J:K)}function ne(t,e,n,r){var i,o;Vt();try{var a=A(e);try{for(var s=u(a),c=s.next();!c.done;c=s.next()){var l=c.value,f=Object.getOwnPropertyDescriptor(e,l);0;var p=(n&&l in n?n[l]:f.get?et:r)(t,l,f,!0);p&&Object.defineProperty(t,l,p)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}finally{Nt()}}function re(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(re)),r}function ie(){this.message="FLOW_CANCELLED"}function oe(t,e){return null!=t&&(void 0!==e?!!Be(t)&&t[E].values.has(e):Be(t)||!!t[E]||k(t)||Ft(t)||St(t))}function ae(t){return 1!==arguments.length&&v(!1),oe(t)}ie.prototype=Object.create(Error.prototype);function se(t){switch(t.length){case 0:return Dt.trackingDerivation;case 1:return Ie(t[0]);case 2:return Ie(t[0],t[1])}}function ue(t,e){void 0===e&&(e=void 0),Vt();try{return t.apply(e)}finally{Nt()}}function ce(t){return t[E]}function le(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var fe={has:function(t,e){if(e===E||"constructor"===e||e===M)return!0;var n=ce(t);return le(e)?n.has(e):e in t},get:function(t,e){if(e===E||"constructor"===e||e===M)return t[e];var n=ce(t),r=n.values.get(e);if(r instanceof P){var i=r.get();return void 0===i&&n.has(e),i}return le(e)&&n.has(e),t[e]},set:function(t,e,n){return!!le(e)&&(function t(e,n,r){if(2!==arguments.length||Me(e))if(Be(e)){var i=e[E],o=i.values.get(n);o?i.write(n,r):i.addObservableProp(n,r,i.defaultEnhancer)}else if(ke(e))e.set(n,r);else if(Me(e))e.add(n);else{if(!Se(e))return v(!1);"number"!=typeof n&&(n=parseInt(n,10)),d(n>=0,"Not a valid index: '"+n+"'"),Vt(),n>=e.length&&(e.length=n+1),e[n]=r,Nt()}else{Vt();var a=n;try{for(var s in a)t(e,s,a[s])}finally{Nt()}}}(t,e,n),!0)},deleteProperty:function(t,e){return!!le(e)&&(ce(t).remove(e),!0)},ownKeys:function(t){return ce(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return v("Dynamic observable objects cannot be frozen"),!1}};function pe(t){var e=new Proxy(t,fe);return t[E].proxy=e,e}function he(t){return void 0!==t.interceptors&&t.interceptors.length>0}function ve(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),y((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function de(t,e){var n=ft();try{for(var r=l(t.interceptors||[]),i=0,o=r.length;i<o&&(d(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{pt(n)}}function ye(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function be(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),y((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ge(t,e){var n=ft(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);pt(n)}}var me={get:function(t,e){return e===E?t[E]:"length"===e?t[E].getArrayLength():"number"==typeof e?we.get.call(t,e):"string"!=typeof e||isNaN(e)?we.hasOwnProperty(e)?we[e]:t[e]:we.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[E].setArrayLength(n),"number"==typeof e&&we.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:we.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return v("Observable arrays cannot be frozen"),!1}};function Oe(t,e,n,r){void 0===n&&(n="ObservableArray@"+h()),void 0===r&&(r=!1);var i,o,a,s=new _e(n,e,r);i=s.values,o=E,a=s,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,me);if(s.proxy=u,t&&t.length){var c=_t(!0);s.spliceWithArray(0,0,t),wt(c)}return u}var _e=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new P(t||"ObservableArray@"+h()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return ve(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),be(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;st(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=f),he(this)){var o=de(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!o)return f;e=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var a=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,a),this.dehanceValues(a)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,l([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=ye(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&ge(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=ye(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&ge(this,o)},t}(),we={intercept:function(t){return this[E].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[E].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[E];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[E];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[E].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[E];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[E].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[E];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[E],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[E];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[E],r=n.values;if(t<r.length){st(n.atom);var i=r[t];if(he(n)){var o=de(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){we[t]=function(){var e=this[E];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}}));var xe,Ae=_("ObservableArrayAdministration",_e);function Se(t){return g(t)&&Ae(t[E])}var je,Ee={},Pe=function(){function t(t,e,n){if(void 0===e&&(e=I),void 0===n&&(n="ObservableMap@"+h()),this.enhancer=e,this.name=n,this[xe]=Ee,this._keysAtom=T(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Dt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new xt(this._has(t),G,this.name+"."+S(t)+"?",!1);this._hasMap.set(t,r),Qt(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(he(this)){var r=de(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(he(this)&&!(r=de(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=ye(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return ue((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&ge(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Dt.UNCHANGED){var r=ye(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),r&&ge(this,i)}},t.prototype._addValue=function(t,e){var n=this;st(this._keysAtom),ue((function(){var r=new xt(e,n.enhancer,n.name+"."+S(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=ye(this),i=r?{type:"add",object:this,name:t,newValue:e}:null;r&&ge(this,i)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Ze({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Ze({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(xe=E,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=u(this),o=i.next();!o.done;o=i.next()){var a=c(o.value,2),s=a[0],l=a[1];t.call(e,l,s,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return ke(t)&&(t=t.toJS()),ue((function(){m(t)?A(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=c(t,2),r=n[0],i=n[1];return e.set(r,i)})):w(t)?(t.constructor!==Map&&v("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&v("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;ue((function(){lt((function(){var e,n;try{for(var r=u(t.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return ue((function(){var n,r=m(n=t)?Object.keys(n):Array.isArray(n)?n.map((function(t){return c(t,1)[0]})):w(n)||ke(n)?Array.from(n.keys()):v("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=u(this),i=r.next();!i.done;i=r.next()){var o=c(i.value,2),a=o[0],s=o[1];n["symbol"==typeof a?a:S(a)]=s}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return S(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return be(this,t)},t.prototype.intercept=function(t){return ve(this,t)},t}(),ke=_("ObservableMap",Pe),Te={},De=function(){function t(t,e,n){if(void 0===e&&(e=I),void 0===n&&(n="ObservableSet@"+h()),this.name=n,this[je]=Te,this._data=new Set,this._atom=T(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;ue((function(){lt((function(){var e,n;try{for(var r=u(t._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;t.delete(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=u(this),o=i.next();!o.done;o=i.next()){var a=o.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((st(this._atom),he(this))&&!(r=de(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){ue((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=ye(this),r=n?{type:"add",object:this,newValue:t}:null;0,n&&ge(this,r)}return this},t.prototype.delete=function(t){var e=this;if(he(this)&&!(r=de(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=ye(this),r=n?{type:"delete",object:this,oldValue:t}:null;return ue((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&ge(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Ze({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Ze({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return Me(t)&&(t=t.toJS()),ue((function(){Array.isArray(t)||x(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&v("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return be(this,t)},t.prototype.intercept=function(t){return ve(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(je=E,Symbol.iterator)]=function(){return this.values()},t}(),Me=_("ObservableSet",De),Ce=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new P(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof At)r.set(e);else{if(he(this)){if(!(o=de(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==Dt.UNCHANGED){var i=ye(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),i&&ge(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new xt(r,G,this.name+"."+S(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(he(this)){var i=de(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new xt(e,n,this.name+"."+S(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return Ve[t]||(Ve[t]={configurable:!0,enumerable:!0,get:function(){return this[E].read(t)},set:function(e){this[E].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,a=this.target;n.name=n.name||this.name+"."+S(e),this.values.set(e,new At(n)),(t===a||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return Ne[t]||(Ne[t]={configurable:Dt.computedConfigurable,enumerable:!1,get:function(){return Le(this).read(t)},set:function(e){Le(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(he(this))if(!(a=de(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Vt();var n=ye(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var a=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;0,n&&ge(this,a)}finally{Nt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return be(this,t)},t.prototype.intercept=function(t){return ve(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=ye(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&ge(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=u(this.values),i=r.next();!i.done;i=r.next()){var o=c(i.value,2),a=o[0];o[1]instanceof xt&&n.push(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function ze(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=I),Object.prototype.hasOwnProperty.call(t,E))return t[E];m(t)||(e=(t.constructor.name||"ObservableObject")+"@"+h()),e||(e="ObservableObject@"+h());var r=new Ce(t,new Map,S(e),n);return O(t,E,r),r}var Ve=Object.create(null),Ne=Object.create(null);function Le(t){var e=t[E];return e||(L(t),t[E])}var Re=_("ObservableObjectAdministration",Ce);function Be(t){return!!g(t)&&(L(t),Re(t[E]))}function Ie(t,e){if("object"==typeof t&&null!==t){if(Se(t))return void 0!==e&&v(!1),t[E].atom;if(Me(t))return t[E];if(ke(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||v(!1),r)}var r;if(L(t),e&&!t[E]&&t[e],Be(t))return e?((r=t[E].values.get(e))||v(!1),r):v(!1);if(k(t)||St(t)||Ft(t))return t}else if("function"==typeof t&&Ft(t[E]))return t[E];return v(!1)}function Ge(t,e){return t||v("Expecting some object"),void 0!==e?Ge(Ie(t,e)):k(t)||St(t)||Ft(t)||ke(t)||Me(t)?t:(L(t),t[E]?t[E]:void v(!1))}var Ue,Fe,He,Ke,qe,Je,We,Xe=Object.prototype.toString;function $e(t,e,n){return void 0===n&&(n=-1),function t(e,n,r,i,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=Xe.call(e);if(s!==Xe.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}e=Ye(e),n=Ye(n);var u="[object Array]"===s;if(!u){if("object"!=typeof e||"object"!=typeof n)return!1;var c=e.constructor,l=n.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var f=(i=i||[]).length;for(;f--;)if(i[f]===e)return o[f]===n;if(i.push(e),o.push(n),u){if((f=e.length)!==n.length)return!1;for(;f--;)if(!t(e[f],n[f],r-1,i,o))return!1}else{var p=Object.keys(e),h=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(h=p[f],!Qe(n,h)||!t(e[h],n[h],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(t,e,n)}function Ye(t){return Se(t)?t.slice():w(t)||ke(t)||x(t)||Me(t)?Array.from(t.entries()):t}function Qe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ze(t){return t[Symbol.iterator]=tn,t}function tn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");function en(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e,n){return e&&nn(t.prototype,e),n&&nn(t,n),t}function on(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(t,e){return(void 0!==e?Ie(t,e):Be(t)||ke(t)||Me(t)?Ge(t):Ie(t)).name}},$mobx:E});var an,sn,un,cn,ln=(Ue=Y.ref,He=on((Fe=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,"health",He,this),en(this,"_payload",Ke,this),en(this,"point",qe,this),en(this,"goal",Je,this),en(this,"targetPoint",We,this),this.update(r)}return rn(t,[{key:"payload",get:function(){return this._payload},set:function(t){this._payload=t,9===this._payload?this.goal=MAnt.EGoal.FOOD_HOME:0===this._payload&&(this.goal=MAnt.EGoal.FOOD_TAKE)}},{key:"cell",get:function(){return this._mother.area.cellGet(this.point)}},{key:"targetCell",get:function(){return this.targetPoint?this._mother.area.cellGet(this.targetPoint):void 0}},{key:"targetMoveCount",get:function(){if(this.targetPoint){var t=En.pathDiff(this.point,this.targetPoint),e=t.x,n=t.y;return Math.abs(e)+Math.abs(n)-(null!=this.goal?1:0)}}},{key:"targetMove",get:function(){var t=this;if(this.targetPoint){var e=En.pathDiff(this.point,this.targetPoint),n=e.x,r=e.y,i=[{x:Math.sign(n),y:0},{x:0,y:Math.sign(r)}],o=[{x:-1*Math.sign(n),y:0},{x:0,y:-1*Math.sign(r)}];return[Math.abs(n)>=Math.abs(r)?i.shift():i.pop(),i.pop(),o.pop(),o.pop()].find((function(e){return t._mother.area.cellGet({x:t.point.x+e.x,y:t.point.y+e.y}).isFree}))}}},{key:"action",get:function(){return this.health<4.5&&this.payload?new o(MAction.EType.EAT):this.goal===MAnt.EGoal.FOOD_TAKE?new o(this.targetMoveCount?MAction.EType.MOVE:MAction.EType.LOAD,this.targetMove):this.goal===MAnt.EGoal.FOOD_HOME?new o(this.targetMoveCount?MAction.EType.MOVE:MAction.EType.UNLOAD,this.targetMove):void 0}}]),rn(t,[{key:"update",value:function(t){this.health=t.health,this.payload=t.payload,this.point={x:t.x,y:t.y}}},{key:"goalUpdate",value:function(){this.goal=9!==this.payload?MAnt.EGoal.FOOD_TAKE:MAnt.EGoal.FOOD_HOME}},{key:"pathLen",value:function(t){var e=En.pathDiff(this.point,t),n=e.x,r=e.y;return Math.abs(n)+Math.abs(r)}}]),t}()).prototype,"health",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=on(Fe.prototype,"_payload",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on(Fe.prototype,"payload",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"payload"),Fe.prototype),qe=on(Fe.prototype,"point",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:void 0,y:void 0}}}),on(Fe.prototype,"cell",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"cell"),Fe.prototype),Je=on(Fe.prototype,"goal",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MAnt.EGoal.FOOD_TAKE}}),We=on(Fe.prototype,"targetPoint",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on(Fe.prototype,"targetCell",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"targetCell"),Fe.prototype),on(Fe.prototype,"targetMoveCount",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"targetMoveCount"),Fe.prototype),on(Fe.prototype,"targetMove",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"targetMove"),Fe.prototype),on(Fe.prototype,"action",[rt],Object.getOwnPropertyDescriptor(Fe.prototype,"action"),Fe.prototype),on(Fe.prototype,"update",[Jt],Object.getOwnPropertyDescriptor(Fe.prototype,"update"),Fe.prototype),on(Fe.prototype,"goalUpdate",[Jt],Object.getOwnPropertyDescriptor(Fe.prototype,"goalUpdate"),Fe.prototype),Fe);function fn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t,e,n){return e&&pn(t.prototype,e),n&&pn(t,n),t}function vn(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}var dn,yn,bn=(sn=vn((an=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fn(this,"_ant",sn,this),this.hive=void 0,fn(this,"_food",un,this),fn(this,"_targetBy",cn,this),this.update(r)}return hn(t,[{key:"ant",get:function(){if(this._ant)return this._ant!==MArea.Cell.EPlayerOther.STRANGER?this._mother.mind.dict[this._ant]:MArea.Cell.EPlayerOther.STRANGER},set:function(t){this._ant=t instanceof ln?t.id:t}},{key:"food",get:function(){return this._food},set:function(t){var e;this._food&&!t&&(null===(e=this.targetBy)||void 0===e?void 0:e.goal)===MAnt.EGoal.FOOD_TAKE&&(this.targetBy.targetPoint=void 0),this._food=t}},{key:"targetBy",get:function(){return this._targetBy?this._mother.mind.dict[this._targetBy]:void 0},set:function(t){var e=this.targetBy;this._targetBy=t?t.id:void 0,e&&e.targetCell===this?e.targetPoint=void 0:e||(e.targetPoint=this.point)}},{key:"isAntMy",get:function(){return!!this.ant&&this.ant!==MArea.Cell.EPlayerOther.STRANGER}},{key:"isHiveMy",get:function(){return!!this.hive&&this.hive!==MArea.Cell.EPlayerOther.STRANGER}},{key:"isFoodFree",get:function(){return this.isFree&&this.food>0}},{key:"isFree",get:function(){return!this.hive&&!this.ant}}]),hn(t,[{key:"update",value:function(t){this.food=t.food,this.ant=t.ant,this.hive=t.hive}}]),t}()).prototype,"_ant",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn(an.prototype,"ant",[rt],Object.getOwnPropertyDescriptor(an.prototype,"ant"),an.prototype),un=vn(an.prototype,"_food",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn(an.prototype,"food",[rt],Object.getOwnPropertyDescriptor(an.prototype,"food"),an.prototype),cn=vn(an.prototype,"_targetBy",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn(an.prototype,"targetBy",[rt],Object.getOwnPropertyDescriptor(an.prototype,"targetBy"),an.prototype),vn(an.prototype,"isAntMy",[rt],Object.getOwnPropertyDescriptor(an.prototype,"isAntMy"),an.prototype),vn(an.prototype,"isHiveMy",[rt],Object.getOwnPropertyDescriptor(an.prototype,"isHiveMy"),an.prototype),vn(an.prototype,"isFoodFree",[rt],Object.getOwnPropertyDescriptor(an.prototype,"isFoodFree"),an.prototype),vn(an.prototype,"isFree",[rt],Object.getOwnPropertyDescriptor(an.prototype,"isFree"),an.prototype),an),gn=n(13),mn=n.n(gn);function On(t){return function(t){if(Array.isArray(t))return _n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e,n){return e&&wn(t.prototype,e),n&&wn(t,n),t}function An(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}var Sn,jn,En=(yn=An((dn=function(){function t(e){var n,r,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r="matrix",o=this,(i=yn)&&Object.defineProperty(n,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0}),this.size={width:0,height:0},this._isInit=!1}return xn(t,[{key:"list",get:function(){return mn()(this.matrix)}},{key:"cellListFood",get:function(){return this.list.filter((function(t){return t.isFoodFree&&!t.targetBy}))}},{key:"cellListHive",get:function(){return this.list.filter((function(t){return t.isHiveMy}))}}],[{key:"pathDiff",value:function(t,e){return{x:e.x-t.x,y:e.y-t.y}}}]),xn(t,[{key:"input",value:function(t){this._isInit?this._update(t):this._init(t)}},{key:"targetClosest",value:function(t){if(t.goal===MAnt.EGoal.FOOD_TAKE){var e=this.cellListFood.map((function(e){return t.pathLen(e.point)}));this.cellListFood[e.indexOf(Math.max.apply(Math,On(e)))].targetBy=t}else if(t.goal===MAnt.EGoal.FOOD_HOME){var n=this.cellListHive.map((function(e){return t.pathLen(e.point)}));this.cellListHive[n.indexOf(Math.max.apply(Math,On(n)))].targetBy=t}}},{key:"cellGet",value:function(t){return this.matrix[t.y][t.x]}},{key:"_init",value:function(t){this.size.width=t.width,this.size.height=t.height,this._fillMatrix(t.cells),this._isInit=!0}},{key:"_update",value:function(t){for(var e=0;e<this.size.height;e++)for(var n=t.cells[e],r=this.matrix[e],i=0;i<this.size.width;i++)r[i].update(n[i])}},{key:"_fillMatrix",value:function(t){for(var e=0;e<this.size.height;e++){var n=[];this.matrix.push(n);for(var r=0;r<this.size.width;r++)n.push(new bn(this._mother,{x:r,y:e},t[e][r]))}}}]),t}()).prototype,"matrix",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),An(dn.prototype,"list",[rt],Object.getOwnPropertyDescriptor(dn.prototype,"list"),dn.prototype),An(dn.prototype,"cellListFood",[rt],Object.getOwnPropertyDescriptor(dn.prototype,"cellListFood"),dn.prototype),An(dn.prototype,"cellListHive",[rt],Object.getOwnPropertyDescriptor(dn.prototype,"cellListHive"),dn.prototype),dn),Pn=n(14),kn=n.n(Pn);function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dn(t,e,n){return e&&Tn(t.prototype,e),n&&Tn(t,n),t}function Mn(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}var Cn=(jn=Mn((Sn=function(){function t(e){var n,r,i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isInit=!1,n=this,r="dict",o=this,(i=jn)&&Object.defineProperty(n,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(o):void 0})}return Dn(t,[{key:"list",get:function(){return Object.values(this.dict)}}]),Dn(t,[{key:"input",value:function(t){this._isInit?this._update(t):this._init(t)}},{key:"getActions",value:function(){var t=this;return this.list.map((function(e){return e.targetPoint||t._mother.area.targetClosest(e),e.action}))}},{key:"_init",value:function(t){this._fill(t),this._isInit=!0}},{key:"_update",value:function(t){for(var e=this,n=Object.keys(t),r=0,i=n;r<i.length;r++){var o=i[r],a=t[o],s=this.dict[o];s?s.update(a):this.dict[o]=new ln(this._mother,o,a)}kn()(Object.keys(this.dict),n).forEach((function(t){return delete e.dict[t]}))}},{key:"_fill",value:function(t){for(var e in t){var n=t[e];this.dict[e]=new ln(this._mother,e,n)}}}]),t}()).prototype,"dict",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Mn(Sn.prototype,"list",[rt],Object.getOwnPropertyDescriptor(Sn.prototype,"list"),Sn.prototype),Mn(Sn.prototype,"_update",[Jt],Object.getOwnPropertyDescriptor(Sn.prototype,"_update"),Sn.prototype),Mn(Sn.prototype,"_fill",[Jt],Object.getOwnPropertyDescriptor(Sn.prototype,"_fill"),Sn.prototype),Sn);function zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tick=0,this.id=void 0,this._isInit=!1,this.area=new En(this),this.mind=new Cn(this)}var e,n,r;return e=t,(n=[{key:"input",value:function(t){return this._isInit||(this.id=t.id,this._isInit=!0),this.tick=t.tick,this.area.input(t.map),this.mind.input(t.ants),this.mind.getActions()}}])&&zn(e.prototype,n),r&&zn(e,r),t}();function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}new(function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mother=new Vn,this._server=void 0,this._server=r.createServer((function(t,e){if(e.writeHead(200,{"Content-Type":"application/json"}),"POST"===t.method){var r="";t.on("data",(function(t){r+=t.toString()})),t.on("end",(function(){try{var t=JSON.parse(r),i=n._handleData(t);e.end(JSON.stringify(i)),console.log("Tick:",t.tick,i)}catch(t){e.end("parse data error"),console.log("parse error:",t.message)}}))}else e.end("only POST allowed")})).listen(e)}var e,n,i;return e=t,(n=[{key:"_handleData",value:function(t){return this._mother.input(t)}}])&&Nn(e.prototype,n),i&&Nn(e,i),t}())(7070)}]);